import{r as p,P as _,j as e}from"./app-DFNynzr5.js";import{A as k}from"./AuthenticatedLayout-CWYLP99d.js";import{T as D,F as u,a as E,b as T}from"./TopMenu-Sp08l2Q7.js";import{C as v}from"./Checkbox-Dvh-EFZc.js";import"./ApplicationLogo-BVkdCahD.js";import"./transition-CoNtNPeF.js";const z=({auth:m,origCourse:x,origChapters:h})=>{const[r,o]=p.useState(x),[i,d]=p.useState(h),{data:c,setData:n,post:j}=_({course:x,chapters:h,deletedChapters:[]});let N=e.jsx(D,{auth:m,title:"Cursos",courseId:r.id,show:["home","course","course-add"]});const g=()=>{confirm("Really delete this course?")&&console.log("mkay")},C=()=>{let t={...r};t.active=!t.active,o(t),c.course=t,n(c)},b=t=>{let a=t.target.value,s={...r};s.name=a,o(s),c.course=s,n(c)},w=t=>{let a=t.target.value,s={...r};s.short_name=a,o(s),c.course=s,n(c)},f=t=>{let a=t.target.value,s={...r};s.description=a,o(s),c.course=s,n(c)},y=()=>{let t=[...i];t.push({course_id:r.id,sequence_id:(t.length+1)*10,name:"",active:0}),d(t),c.chapters=t,n(c)},P=(t,a)=>{let s=t.target.value,l=[...i];l[a].name=s,l[a].changed=!0,d(l),c.chapters=l,n(c)},A=(t,a)=>{let s=[...i],l=s.splice(a,1);d(s),c.chapters=s,c.deletedChapters.push(l[0].id),n(c)},F=(t,a)=>{let s=[...i];s[a].active=!s[a].active,s[a].changed=!0,d(s),c.chapters=s,n(c)},S=()=>{j(route("course.save"),{data:c})};return e.jsxs(k,{auth:m,user:m.user,header:!1,topMenu:N,children:[e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"",children:" Nombre del Curso:"}),e.jsxs("div",{className:"flex items-center mx-2",children:[e.jsx(v,{checked:r.active,onChange:C,className:"border border-black border-1"}),e.jsx("div",{className:"text-sm ml-1 mr-2",children:"Publicar"}),e.jsx(u,{className:"text-base ml-2 cursor-pointer",onClick:g})]})]}),e.jsx("div",{children:e.jsx("input",{type:"text",onChange:b,value:r.name,className:"w-full"})})]})})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:["Nombre Corto",e.jsx("div",{children:e.jsx("input",{type:"text",onChange:w,value:r.short_name,className:"w-full",maxLength:30})})]})})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[e.jsx("div",{className:"text-left",children:" Descripción:"}),e.jsx("div",{children:e.jsx("input",{type:"text",onChange:f,value:r.description,className:"w-full"})})]})})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[e.jsxs("div",{className:"flex items-center",children:[" Capítulos: ",e.jsx(E,{className:"text-base ml-2 cursor-pointer",onClick:y})]}),i.map((t,a)=>{let s=t.name;return e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",onChange:l=>P(l,a),value:s,className:"w-full"},a),e.jsx(v,{checked:t.active,onChange:l=>F(l,a),className:"border border-black border-1"}),e.jsx("div",{className:"text-sm ml-1 mr-2",children:"P"}),e.jsx("a",{href:`/chapter/${t.id}/edit`,children:e.jsx(T,{className:"text-base ml-2"})}),e.jsx(u,{className:"text-base ml-2 cursor-pointer",onClick:l=>A(l,a)})]},a)})]})})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8 cursor-pointer",onClick:S,children:"SAVE"})})})]})};export{z as default};
