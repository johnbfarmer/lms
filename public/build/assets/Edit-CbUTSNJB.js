import{r as k,P as T,j as e,B as P}from"./app-DMNfrNhn.js";import{A as E}from"./AuthenticatedLayout-CK2JEpOV.js";import{F as m}from"./index-D-pQ_u0A.js";import{T as S}from"./TopMenu-CY_O2CwH.js";import{C as A}from"./Checkbox-Hj_pvAtN.js";import{b as B}from"./Utilities-m0eG5Gao.js";import"./ApplicationLogo-0j7nhg8-.js";import"./transition-CpjbZLWG.js";const z=({auth:r,origLesson:i,chapter:p,course:x})=>{const[l,c]=k.useState(i),{data:t,setData:o,post:h}=T({lesson:i,file:null}),d=`Capítulo ${l.name}`,u=s=>{let a=s.target.value,n={...l};n.name=a,c(n),t.lesson=n,o(t)},j=s=>{let a=s.target.value,n={...l};n.short_name=a,c(n),t.lesson=n,o(t)},v=()=>{let s={...l};s.active=!s.active,c(s),t.lesson=s,o(t)},f=()=>{},g=()=>{let s={...l};s.lesson_page="",c(s),t.lesson=s,t.file=null,o(t)},N=s=>{let a={...l};a.lesson_text=s.target.value,c(a),t.lesson=a,o(t)},y=s=>{let a={...l};a.lesson_page=s.target.files[0].name,c(a),t.lesson=a,t.file=s.target.files[0],o(t)},b=s=>{let a=s,n={...l};n.lesson_type=a,c(n),t.lesson=n,o(t)};let w=["text","pdf","hybrid","latex"].map(s=>{let a=s===l.lesson_type?"font-bold":"text-slate-500";return e.jsx("div",{className:`cursor-pointer text-sm mx-1 ${a}`,onClick:()=>b(s),children:s},s)});const _=()=>{h(route("lesson.save"))},C=B({course:x,chapter:p},3);let L=e.jsx(S,{auth:r,title:d,courseId:x.id,lessonId:l.id,chapterId:l.lesson_set_id,show:["home","lesson","chapter"],breadcrumbs:C});return e.jsxs(E,{auth:r,user:r.user,header:!1,topMenu:L,children:[e.jsx(P,{title:d}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"",children:" Nombre de Lección:"}),e.jsxs("div",{className:"flex items-center mx-2",children:[e.jsx(A,{checked:l.active,onChange:v,className:"border border-black border-1"}),e.jsx("div",{className:"text-sm ml-1 mr-2",children:"Publicar"}),e.jsx(m,{className:"text-base ml-2 cursor-pointer",onClick:f})]})]}),e.jsx("div",{children:e.jsx("input",{type:"text",onChange:u,value:l.name,className:"w-full"})})]})})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:["Nombre Corto",e.jsx("div",{children:e.jsx("input",{type:"text",onChange:j,value:l.short_name,className:"w-full",maxLength:30})})]})})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-left",children:" Contenido:"}),e.jsx("div",{className:"flex items-center mx-2",children:w})]}),e.jsxs("div",{className:"",children:[l.lesson_type!=="pdf"&&e.jsx("textarea",{rows:"15",onChange:N,className:"w-full",value:l.lesson_text}),l.lesson_type==="pdf"&&l.lesson_page&&e.jsxs("div",{className:"flex flex-row justify-center",children:[e.jsx("div",{children:l.lesson_page}),e.jsx(m,{className:"text-base ml-2 cursor-pointer",onClick:g})]}),l.lesson_type==="pdf"&&!l.lesson_page&&e.jsx("div",{className:"flex flex-row justify-center",children:e.jsx("div",{children:e.jsx("input",{type:"file",className:"w-full",placeholder:"pdf",onChange:y})})})]})]})})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8 cursor-pointer",onClick:_,children:"SAVE"})})})]})};export{z as default};
