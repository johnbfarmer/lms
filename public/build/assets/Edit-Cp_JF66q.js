import{j as e,r as n,P as D}from"./app-C77iCZva.js";import{A as P}from"./AuthenticatedLayout-BfNoI9OB.js";import{G as B,T as O}from"./TopMenu-Dk9KnXVb.js";import{I as R}from"./InputLabel-DlAgO-8e.js";import{P as _}from"./PrimaryButton-cYYQx6_Y.js";import{b as z}from"./Utilities-Dr_LsU1D.js";import"./ApplicationLogo-DGdovin7.js";import"./transition-txk6MlWy.js";function C(o){let u=o.data.map((l,h)=>e.jsx("div",{className:"cursor-pointer",onDoubleClick:()=>o.xxx(l.id),children:l.name},h));return e.jsxs("div",{className:"min-w-[40%] border border-black rounded mx-2 shadow",children:[e.jsx("div",{className:"border-b border-black bg-slate-100",children:o.title}),e.jsx("div",{className:"max-h-[300px] overflow-y-scroll",children:u})]})}function T(o){return B({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(o)}const Z=({auth:o,course:u,group:l,allStudents:h})=>{const[i,j]=n.useState(""),[H,U]=n.useState(h),[d,f]=n.useState([]),[c,b]=n.useState([]),[I,v]=n.useState([]),[g,w]=n.useState([]),{data:p,setData:G,post:y}=D({name:l?l.name:"",id:l?l.id:null,course_id:l?l.course_id:u.id,students:d}),M=t=>{y(route("group.save"),{}),t.preventDefault()},F=t=>{let r={...p};r.name=t.target.value,G(r)},L="Grupo";n.useEffect(()=>{let t=[],r=[];h.forEach(s=>{s.is_member>0?t.push(s):r.push(s)}),f(t),b(r),v(t),w(r)},[]),n.useEffect(()=>{let t=i.length?[...d].filter(a=>a.name.toLowerCase().indexOf(i.toLowerCase())>=0):[...d],r=i.length?[...c].filter(a=>a.name.toLowerCase().indexOf(i.toLowerCase())>=0):[...c];v(t),w(r);let s={...p};s.students=t,G(s)},[i,d,c]);const S=z({course:u},2);let k=e.jsx(O,{auth:o,title:L,courseId:u.id,show:["home","add-group"],breadcrumbs:S});const E=t=>{let r=[...c],s=[...d],a=s.filter(x=>x.id===t);r.push(a[0]),b(r);let m=N(a[0],s);f(m)},A=t=>{let r=[...d],s=[...c],a=s.filter(x=>x.id===t);r.push(a[0]),f(r);let m=N(a[0],s);b(m)},N=(t,r)=>{let s=[...r],a=-1;return r.some((m,x)=>m.id===t.id?(a=x,!0):!1),s.splice(a,1),s};return console.log(p),e.jsx(P,{auth:o,user:o.user,header:!1,topMenu:k,children:e.jsxs("div",{className:"text-center w-full",children:[e.jsxs("div",{className:"text-center max-w-7xl bg-white rounded-md my-2 mx-auto shadow",children:[e.jsxs("div",{children:[e.jsx(R,{value:"Nombre del Grupo:"}),e.jsx("input",{type:"text",value:p.name,onChange:F})]}),e.jsx("div",{children:e.jsx(_,{onClick:M,className:"my-2",children:"GUARDAR"})})]}),e.jsxs("div",{className:"text-center max-w-7xl bg-white rounded-md my-2 mx-auto shadow",children:[e.jsx("div",{children:"Miembros"}),e.jsxs("div",{className:"mx-auto w-full pt-5 flex flex-row justify-center",children:[e.jsx(C,{data:I,title:"Miembros",xxx:E}),e.jsxs("div",{className:"flex flex-row",children:[e.jsx("input",{className:"h-6",value:i,onChange:t=>{console.log(t.target.value),j(t.target.value)},placeholder:"Filtrar Nombres..."}),e.jsx(T,{onClick:()=>j("")})]}),e.jsx(C,{data:g,title:"No Miembros",xxx:A})]})]})]})})};export{Z as default};
