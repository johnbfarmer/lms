import{r as j,P as S,j as s,B as T}from"./app-CAi2GfxZ.js";import{A as _}from"./AuthenticatedLayout-7xsmXoxj.js";import{T as k,F as v,a as B,b as N}from"./TopMenu-DBsDCURA.js";import{C as b}from"./Checkbox-CB5A7POj.js";import"./ApplicationLogo-ZEI_Xc_g.js";import"./transition-Dwh9Pd-P.js";const V=({auth:m,origLessons:x,origChapter:h})=>{const[r,p]=j.useState(h),[i,d]=j.useState(x),{data:l,setData:o,post:g}=S({chapter:h,lessons:x,deletedLessons:[]}),u=`Edita Capítulo ${r.name}`,C=()=>{let t=e.target.value,a={...r};a.name=t,p(a),l.chapter=a,o(l)},f=()=>{let t={...r};t.active=!t.active,p(t),l.chapter=t,o(l)},w=()=>{},y=(t,a)=>{let c=t.target.value,n=[...i];n[a].name=c,n[a].changed=!0,d(n),l.lessons=n,o(l)},L=(t,a)=>{let c=[...i];c[a].active=!c[a].active,c[a].changed=!0,d(c),l.lessons=c,o(l)},P=(t,a)=>{let c=[...i],n=c.splice(a,1);d(c),l.lessons=c,l.deletedLessons.push(n[0].id),o(l)},E=()=>{let t=[...i];t.push({lesson_set_id:r.id,sequence_id:(t.length+1)*10,name:"",active:0}),d(t),l.lessons=t,o(l)},A=()=>{g(route("chapter.save"),{data:l})};let F=s.jsx(k,{auth:m,title:u,chapterId:r.id,show:["home","course","chapter"]});return s.jsxs(_,{auth:m,user:m.user,header:!1,topMenu:F,children:[s.jsx(T,{title:u}),s.jsx("div",{className:"py-2",children:s.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"",children:" Nombre del Capítulo:"}),s.jsxs("div",{className:"flex items-center mx-2",children:[s.jsx(b,{checked:r.active,onChange:f,className:"border border-black border-1"}),s.jsx("div",{className:"text-sm ml-1 mr-2",children:"Publicar"}),s.jsx(v,{className:"text-base ml-2 cursor-pointer",onClick:w})]})]}),s.jsx("div",{children:s.jsx("input",{type:"text",onChange:C,value:r.name,className:"w-full"})})]})})}),s.jsx("div",{className:"py-2",children:s.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[s.jsxs("div",{className:"flex items-center",children:[" Lecciones: ",s.jsx(B,{className:"text-base ml-2 cursor-pointer",onClick:E})]}),i.map((t,a)=>{let c=t.name;return s.jsxs("div",{className:"flex",children:[s.jsx("input",{type:"text",onChange:n=>y(n,a),value:c,className:"w-full"},a),s.jsx(b,{checked:t.active,onChange:n=>L(n,a),className:"border border-black border-1"}),s.jsx("div",{className:"text-sm ml-1 mr-2",children:"P"}),t.id&&s.jsx("a",{href:`/lesson/${t.id}/edit`,children:s.jsx(N,{className:"text-base ml-2"})}),t.id==null&&s.jsx(N,{className:"text-base ml-2 text-slate-400"}),s.jsx(v,{className:"text-base ml-2 cursor-pointer",onClick:n=>P(n,a)})]},a)})]})})}),s.jsx("div",{className:"py-2",children:s.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:s.jsx("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8 cursor-pointer",onClick:A,children:"SAVE"})})})]})};export{V as default};
