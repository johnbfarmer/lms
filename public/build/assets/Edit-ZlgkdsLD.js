import{j as e,r as l,P as D}from"./app-BXkBi8q9.js";import{A as P}from"./AuthenticatedLayout-BMrWopt8.js";import{T as O}from"./TopMenu-BGtQdXEw.js";import{I as R}from"./InputLabel-COk7vjaU.js";import{P as _}from"./PrimaryButton-C-1mbyy0.js";import{M as B}from"./index-DHcHan1j.js";import{b as T}from"./Utilities-Dr_LsU1D.js";import"./ApplicationLogo-BoqQoL6I.js";import"./transition-NFeMiECm.js";function C(n){let u=n.data.map((a,p)=>e.jsx("div",{className:"cursor-pointer",onDoubleClick:()=>n.xxx(a.id),children:a.name},p));return e.jsxs("div",{className:"min-w-[40%] border border-black rounded mx-2 shadow",children:[e.jsx("div",{className:"border-b border-black bg-slate-100",children:n.title}),e.jsx("div",{className:"max-h-[300px] overflow-y-scroll",children:u})]})}const Z=({auth:n,course:u,group:a,allStudents:p})=>{const[i,j]=l.useState(""),[U,q]=l.useState(p),[d,h]=l.useState([]),[m,b]=l.useState([]),[I,v]=l.useState([]),[g,w]=l.useState([]),{data:f,setData:N,post:y}=D({name:a?a.name:"",id:a?a.id:null,course_id:a?a.course_id:u.id,students:d}),F=t=>{y(route("group.save"),{}),t.preventDefault()},M=t=>{let s={...f};s.name=t.target.value,N(s)},L="Grupo";l.useEffect(()=>{let t=[],s=[];p.forEach(r=>{r.is_member>0?t.push(r):s.push(r)}),h(t),b(s),v(t),w(s)},[]),l.useEffect(()=>{let t=i.length?[...d].filter(o=>o.name.toLowerCase().indexOf(i.toLowerCase())>=0):[...d],s=i.length?[...m].filter(o=>o.name.toLowerCase().indexOf(i.toLowerCase())>=0):[...m];v(t),w(s);let r={...f};r.students=t,N(r)},[i,d,m]);const S=T({course:u},2);let k=e.jsx(O,{auth:n,title:L,courseId:u.id,show:["home","add-group"],breadcrumbs:S});const E=t=>{let s=[...m],r=[...d],o=r.filter(x=>x.id===t);s.push(o[0]),b(s);let c=G(o[0],r);h(c)},A=t=>{let s=[...d],r=[...m],o=r.filter(x=>x.id===t);s.push(o[0]),h(s);let c=G(o[0],r);b(c)},G=(t,s)=>{let r=[...s],o=-1;return s.some((c,x)=>c.id===t.id?(o=x,!0):!1),r.splice(o,1),r};return console.log(f),e.jsx(P,{auth:n,user:n.user,header:!1,topMenu:k,children:e.jsxs("div",{className:"text-center w-full",children:[e.jsxs("div",{className:"text-center max-w-7xl bg-white rounded-md my-2 mx-auto shadow",children:[e.jsxs("div",{children:[e.jsx(R,{value:"Nombre del Grupo:"}),e.jsx("input",{type:"text",value:f.name,onChange:M})]}),e.jsx("div",{children:e.jsx(_,{onClick:F,className:"my-2",children:"GUARDAR"})})]}),e.jsxs("div",{className:"text-center max-w-7xl bg-white rounded-md my-2 mx-auto shadow",children:[e.jsx("div",{children:"Miembros"}),e.jsxs("div",{className:"mx-auto w-full pt-5 flex flex-row justify-center",children:[e.jsx(C,{data:I,title:"Miembros",xxx:E}),e.jsxs("div",{className:"flex flex-row",children:[e.jsx("input",{className:"h-6",value:i,onChange:t=>{console.log(t.target.value),j(t.target.value)},placeholder:"Filtrar Nombres..."}),e.jsx(B,{onClick:()=>j("")})]}),e.jsx(C,{data:g,title:"No Miembros",xxx:A})]})]})]})})};export{Z as default};
