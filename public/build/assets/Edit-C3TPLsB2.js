import{j as e,r as n,P as A}from"./app-kAcvB3Ux.js";import{A as D}from"./AuthenticatedLayout-BTQj_TMv.js";import{G as P,T as O}from"./TopMenu-DJOQtgtT.js";import{I as R}from"./InputLabel-fN9WKzCn.js";import{P as _}from"./PrimaryButton-Qip_jEW3.js";import"./ApplicationLogo-0xcsg2AI.js";import"./transition-BSqVVQhe.js";function C(o){let p=o.data.map((l,x)=>e.jsx("div",{className:"cursor-pointer",onDoubleClick:()=>o.xxx(l.id),children:l.name},x));return e.jsxs("div",{className:"min-w-[40%] border border-black rounded mx-2 shadow",children:[e.jsx("div",{className:"border-b border-black bg-slate-100",children:o.title}),e.jsx("div",{className:"max-h-[300px] overflow-y-scroll",children:p})]})}function z(o){return P({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(o)}const W=({auth:o,course:p,group:l,allStudents:x})=>{const[i,v]=n.useState(""),[B,T]=n.useState(x),[d,f]=n.useState([]),[u,j]=n.useState([]),[I,b]=n.useState([]),[g,w]=n.useState([]),{data:h,setData:G,post:y}=A({name:l?l.name:"",id:l?l.id:null,course_id:l?l.course_id:p.id,students:d}),M=t=>{y(route("group.save"),{}),t.preventDefault()},F=t=>{let s={...h};s.name=t.target.value,G(s)},L="Grupo";n.useEffect(()=>{let t=[],s=[];x.forEach(r=>{r.is_member>0?t.push(r):s.push(r)}),f(t),j(s),b(t),w(s)},[]),n.useEffect(()=>{let t=i.length?[...d].filter(a=>a.name.toLowerCase().indexOf(i.toLowerCase())>=0):[...d],s=i.length?[...u].filter(a=>a.name.toLowerCase().indexOf(i.toLowerCase())>=0):[...u];b(t),w(s);let r={...h};r.students=t,G(r)},[i,d,u]);let S=e.jsx(O,{auth:o,title:L,show:["home"]});const k=t=>{let s=[...u],r=[...d],a=r.filter(m=>m.id===t);s.push(a[0]),j(s);let c=N(a[0],r);f(c)},E=t=>{let s=[...d],r=[...u],a=r.filter(m=>m.id===t);s.push(a[0]),f(s);let c=N(a[0],r);j(c)},N=(t,s)=>{let r=[...s],a=-1;return s.some((c,m)=>c.id===t.id?(a=m,!0):!1),r.splice(a,1),r};return console.log(h),e.jsx(D,{auth:o,user:o.user,header:!1,topMenu:S,children:e.jsxs("div",{className:"text-center w-full",children:[e.jsxs("div",{className:"text-center max-w-7xl bg-white rounded-md my-2 mx-auto shadow",children:[e.jsxs("div",{children:[e.jsx(R,{value:"Nombre del Grupo:"}),e.jsx("input",{type:"text",value:h.name,onChange:F})]}),e.jsx("div",{children:e.jsx(_,{onClick:M,className:"my-2",children:"GUARDAR"})})]}),e.jsxs("div",{className:"text-center max-w-7xl bg-white rounded-md my-2 mx-auto shadow",children:[e.jsx("div",{children:"Miembros"}),e.jsxs("div",{className:"mx-auto w-full pt-5 flex flex-row justify-center",children:[e.jsx(C,{data:I,title:"Miembros",xxx:k}),e.jsxs("div",{className:"flex flex-row",children:[e.jsx("input",{className:"h-6",value:i,onChange:t=>{console.log(t.target.value),v(t.target.value)},placeholder:"Filtrar Nombres..."}),e.jsx(z,{onClick:()=>v("")})]}),e.jsx(C,{data:g,title:"No Miembros",xxx:E})]})]})]})})};export{W as default};
