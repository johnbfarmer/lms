import{j as s,r as o,B as D}from"./app-D5R2bXOf.js";import{A as K}from"./AuthenticatedLayout-kCwvKOfW.js";import{S as $,F as q,H as z}from"./HintComponent-J7iJcnno.js";import{T as G}from"./TopMenu--5Or1jBj.js";import{M as J}from"./Modal-BS0OjIQ3.js";import"./ApplicationLogo-DttMJXBc.js";import"./transition-ByzGhBEC.js";import"./index-DaZ0rOJk.js";import"./HybridDisplay-Dx-myWob.js";import"./TextInput-9DbRcVfI.js";import"./InputLabel-BFnGrNFQ.js";import"./InputError-CK8lrKJF.js";import"./Utilities-m0eG5Gao.js";function Q(n){return s.jsx("div",{className:"mx-auto my-6 max-w-7xl space-y-6 sm:px-6 lg:px-8",children:s.jsx(J,{show:n.show,onClose:n.onClose,children:s.jsx("div",{className:"p-12 shadow sm:rounded-lg",children:s.jsx("div",{className:"",children:"No hay mÃ¡s problemas"})})})})}const re=({auth:n,problems:h,lesson:w,answers:E,hints:r})=>{const[e,a]=o.useState(null),[i,m]=o.useState(-1),[y,C]=o.useState(""),[H,l]=o.useState(!1),[P,I]=o.useState(0),[p,d]=o.useState(!1),[f,u]=o.useState(1),[S,b]=o.useState(!1),x=t=>{switch(t.key){case"n":case"ArrowRight":c();break;case"ArrowLeft":case"p":j();break;case"Enter":console.log("enter")}};o.useEffect(()=>(document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}),[x]);const g=`${w.name} Ejercicios`;let M=s.jsx(G,{auth:n,title:g,lessonId:w.id,problemId:e!=null?e.id:null,show:["home","lesson","prob-edit","prob-add"]});const N=()=>{b(!S)},A=()=>{b(!1),a(null),m(-1)},c=()=>{if(h.length<=i+1)return a(null),N();let t=i+1;m(t),a(h[t]),l(!1),d(!1),u(1)},j=()=>{let t=Math.max(i-1,0);m(t),a(h[t]),l(!1),d(!1),u(1)},F=()=>{m(-1),a(null),l(!1),d(!1),u(1)},v=()=>{l(!1),d(!p)},k=()=>{u(f+1)},T=(t,R,B)=>{C(B),l(!0),I(R)},O=()=>{l(!1)},L=()=>{d(!1)};return console.log(e==null?void 0:e.id),s.jsxs(K,{auth:n,user:n.user,header:!1,topMenu:M,onKeyDown:x,children:[s.jsx(D,{title:g}),e===null&&s.jsx("div",{className:"mx-auto text-center py-16 cursor-pointer",onClick:c,children:s.jsx("div",{className:"bg-white m-2 p-6 shadow-xl sm:rounded-lg sm:p-4",children:"START"})}),e!==null&&s.jsx($,{problem:e,answers:E[e.id],handleAnswer:T,showHint:p,hint:v,hintsToShow:f,nextHint:k,totalHints:r[e.id]?r[e.id].length:0,next:c,prev:j,restart:F,hasNextProblem:!0,hasPrevProblem:i>0}),e!==null&&s.jsx(q,{show:H,feedback:y,points:P,next:c,hint:v,hasHints:r[e.id]!=null&&r[e.id].length>0,onClose:O}),e!==null&&s.jsx(z,{show:p,hints:r[e.id],next:c,onClose:L,hintsToShow:f,nextHint:k}),s.jsx(Q,{show:S,onClose:A})]})};export{re as default};
