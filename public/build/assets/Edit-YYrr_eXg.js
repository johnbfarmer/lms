import{r as p,P as k,j as e}from"./app-yNq6nTNj.js";import{A as D}from"./AuthenticatedLayout-BpQm0nL0.js";import{T as E,F as u,a as S,b as T}from"./TopMenu-BHUelPmt.js";import{C as v}from"./Checkbox-BypG9dTj.js";import"./ApplicationLogo-aOLew6p-.js";import"./transition-BqxlLFlr.js";const $=({auth:o,origCourse:x,origChapters:h})=>{const[r,m]=p.useState(x),[n,d]=p.useState(h),{data:c,setData:i,post:j}=k({course:x,chapters:h,deletedChapters:[]});let N=e.jsx(E,{auth:o,title:"Cursos",courseId:r.id,show:["home","course","course-add"]});const g=()=>{confirm("Really delete this course?")&&console.log("mkay")},C=()=>{let s={...r};s.active=!s.active,m(s),c.course=s,i(c)},b=s=>{let a=s.target.value,t={...r};t.name=a,m(t),c.course=t,i(c)},f=s=>{let a=s.target.value,t={...r};t.description=a,m(t),c.course=t,i(c)},w=()=>{let s=[...n];s.push({course_id:r.id,sequence_id:(s.length+1)*10,name:"",active:0}),d(s),c.chapters=s,i(c)},y=(s,a)=>{let t=s.target.value,l=[...n];l[a].name=t,l[a].changed=!0,d(l),c.chapters=l,i(c)},P=(s,a)=>{let t=[...n],l=t.splice(a,1);d(t),c.chapters=t,c.deletedChapters.push(l[0].id),i(c)},A=(s,a)=>{let t=[...n];t[a].active=!t[a].active,t[a].changed=!0,d(t),c.chapters=t,i(c)},F=()=>{j(route("course.save"),{data:c})};return e.jsxs(D,{auth:o,user:o.user,header:!1,topMenu:N,children:[e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"",children:" Nombre del Curso:"}),e.jsxs("div",{className:"flex items-center mx-2",children:[e.jsx(v,{checked:r.active,onChange:C,className:"border border-black border-1"}),e.jsx("div",{className:"text-sm ml-1 mr-2",children:"Publicar"}),e.jsx(u,{className:"text-base ml-2 cursor-pointer",onClick:g})]})]}),e.jsx("div",{children:e.jsx("input",{type:"text",onChange:b,value:r.name,className:"w-full"})})]})})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[e.jsx("div",{className:"text-left",children:" Descripción:"}),e.jsx("div",{children:e.jsx("input",{type:"text",onChange:f,value:r.description,className:"w-full"})})]})})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[e.jsxs("div",{className:"flex items-center",children:[" Capítulos: ",e.jsx(S,{className:"text-base ml-2 cursor-pointer",onClick:w})]}),n.map((s,a)=>{let t=s.name;return e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",onChange:l=>y(l,a),value:t,className:"w-full"},a),e.jsx(v,{checked:s.active,onChange:l=>A(l,a),className:"border border-black border-1"}),e.jsx("div",{className:"text-sm ml-1 mr-2",children:"P"}),e.jsx("a",{href:`/chapter/${s.id}/edit`,children:e.jsx(T,{className:"text-base ml-2"})}),e.jsx(u,{className:"text-base ml-2 cursor-pointer",onClick:l=>P(l,a)})]},a)})]})})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8 cursor-pointer",onClick:F,children:"SAVE"})})})]})};export{$ as default};
