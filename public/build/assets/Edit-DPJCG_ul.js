import{r as j,P as T,j as s,B as k}from"./app-CjSFMGnC.js";import{A as I}from"./AuthenticatedLayout-CfJRKZNh.js";import{T as M,F as v,a as $,b as N}from"./TopMenu-C0ezvCYt.js";import{C as b}from"./Checkbox-ChteaM3j.js";import{b as q}from"./Utilities-Dr_LsU1D.js";import"./ApplicationLogo-DB8lIolN.js";import"./transition-CenZjv0w.js";const K=({auth:i,origLessons:h,origChapter:p,course:g})=>{const[n,x]=j.useState(p),[m,d]=j.useState(h),{data:l,setData:o,post:C}=T({chapter:p,lessons:h,deletedLessons:[]}),u=`Edita Capítulo ${n.name}`,w=()=>{let t=e.target.value,a={...n};a.name=t,x(a),l.chapter=a,o(l)},f=()=>{let t=e.target.value,a={...n};a.short_name=t,x(a),l.chapter=a,o(l)},y=()=>{let t={...n};t.active=!t.active,x(t),l.chapter=t,o(l)},L=()=>{},P=(t,a)=>{let c=t.target.value,r=[...m];r[a].name=c,r[a].changed=!0,d(r),l.lessons=r,o(l)},_=(t,a)=>{let c=[...m];c[a].active=!c[a].active,c[a].changed=!0,d(c),l.lessons=c,o(l)},E=(t,a)=>{let c=[...m],r=c.splice(a,1);d(c),l.lessons=c,l.deletedLessons.push(r[0].id),o(l)},A=()=>{let t=[...m];t.push({lesson_set_id:n.id,sequence_id:(t.length+1)*10,name:"",active:0}),d(t),l.lessons=t,o(l)},F=()=>{C(route("chapter.save"),{data:l})},S=q({course:g},2);let B=s.jsx(M,{auth:i,title:u,courseId:n.course_id,chapterId:n.id,show:["home","course","chapter"],breadcrumbs:S});return s.jsxs(I,{auth:i,user:i.user,header:!1,topMenu:B,children:[s.jsx(k,{title:u}),s.jsx("div",{className:"py-2",children:s.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"",children:" Nombre del Capítulo:"}),s.jsxs("div",{className:"flex items-center mx-2",children:[s.jsx(b,{checked:n.active,onChange:y,className:"border border-black border-1"}),s.jsx("div",{className:"text-sm ml-1 mr-2",children:"Publicar"}),s.jsx(v,{className:"text-base ml-2 cursor-pointer",onClick:L})]})]}),s.jsx("div",{children:s.jsx("input",{type:"text",onChange:w,value:n.name,className:"w-full"})})]})})}),s.jsx("div",{className:"py-2",children:s.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:["Nombre Corto",s.jsx("div",{children:s.jsx("input",{type:"text",onChange:f,value:n.short_name,className:"w-full",maxLength:30})})]})})}),s.jsx("div",{className:"py-2",children:s.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[s.jsxs("div",{className:"flex items-center",children:[" Lecciones: ",s.jsx($,{className:"text-base ml-2 cursor-pointer",onClick:A})]}),m.map((t,a)=>{let c=t.name;return s.jsxs("div",{className:"flex",children:[s.jsx("input",{type:"text",onChange:r=>P(r,a),value:c,className:"w-full"},a),s.jsx(b,{checked:t.active,onChange:r=>_(r,a),className:"border border-black border-1"}),s.jsx("div",{className:"text-sm ml-1 mr-2",children:"P"}),t.id&&s.jsx("a",{href:`/lesson/${t.id}/edit`,children:s.jsx(N,{className:"text-base ml-2"})}),t.id==null&&s.jsx(N,{className:"text-base ml-2 text-slate-400"}),s.jsx(v,{className:"text-base ml-2 cursor-pointer",onClick:r=>E(r,a)})]},a)})]})})}),s.jsx("div",{className:"py-2",children:s.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:s.jsx("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8 cursor-pointer",onClick:F,children:"SAVE"})})})]})};export{K as default};
