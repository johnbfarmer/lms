import{r as u,P as B,j as e,B as T}from"./app-DyjitOPp.js";import{A as k}from"./AuthenticatedLayout-Cw9YdjRI.js";import{T as I,F as j,a as M,b as v}from"./TopMenu-DWyha1b0.js";import{C as N}from"./Checkbox-BLutUpMj.js";import{b as $}from"./Utilities-Dr_LsU1D.js";import"./ApplicationLogo-Fza9khLI.js";import"./transition-BbOuAcJ1.js";const J=({auth:d,origLessons:x,origChapter:h,course:b})=>{const[r,i]=u.useState(h),[o,m]=u.useState(x),{data:l,setData:n,post:g}=B({chapter:h,lessons:x,deletedLessons:[]}),p=`Edita Capítulo ${r.name}`,C=s=>{let a=s.target.value,t={...r};t.name=a,i(t),l.chapter=t,n(l)},w=s=>{let a=s.target.value,t={...r};t.short_name=a,i(t),l.chapter=t,n(l)},f=()=>{let s={...r};s.active=!s.active,i(s),l.chapter=s,n(l)},y=()=>{},L=(s,a)=>{let t=s.target.value,c=[...o];c[a].name=t,c[a].changed=!0,m(c),l.lessons=c,n(l)},P=(s,a)=>{let t=[...o];t[a].active=!t[a].active,t[a].changed=!0,m(t),l.lessons=t,n(l)},_=(s,a)=>{let t=[...o],c=t.splice(a,1);m(t),l.lessons=t,l.deletedLessons.push(c[0].id),n(l)},E=()=>{let s=[...o];s.push({lesson_set_id:r.id,sequence_id:(s.length+1)*10,name:"",active:0}),m(s),l.lessons=s,n(l)},A=()=>{g(route("chapter.save"),{data:l})},F=$({course:b},2);let S=e.jsx(I,{auth:d,title:p,courseId:r.course_id,chapterId:r.id,show:["home","course","chapter"],breadcrumbs:F});return e.jsxs(k,{auth:d,user:d.user,header:!1,topMenu:S,children:[e.jsx(T,{title:p}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"",children:" Nombre del Capítulo:"}),e.jsxs("div",{className:"flex items-center mx-2",children:[e.jsx(N,{checked:r.active,onChange:f,className:"border border-black border-1"}),e.jsx("div",{className:"text-sm ml-1 mr-2",children:"Publicar"}),e.jsx(j,{className:"text-base ml-2 cursor-pointer",onClick:y})]})]}),e.jsx("div",{children:e.jsx("input",{type:"text",onChange:C,value:r.name,className:"w-full"})})]})})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:["Nombre Corto",e.jsx("div",{children:e.jsx("input",{type:"text",onChange:w,value:r.short_name,className:"w-full",maxLength:30})})]})})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[e.jsxs("div",{className:"flex items-center",children:[" Lecciones: ",e.jsx(M,{className:"text-base ml-2 cursor-pointer",onClick:E})]}),o.map((s,a)=>{let t=s.name;return e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",onChange:c=>L(c,a),value:t,className:"w-full"},a),e.jsx(N,{checked:s.active,onChange:c=>P(c,a),className:"border border-black border-1"}),e.jsx("div",{className:"text-sm ml-1 mr-2",children:"P"}),s.id&&e.jsx("a",{href:`/lesson/${s.id}/edit`,children:e.jsx(v,{className:"text-base ml-2"})}),s.id==null&&e.jsx(v,{className:"text-base ml-2 text-slate-400"}),e.jsx(j,{className:"text-base ml-2 cursor-pointer",onClick:c=>_(c,a)})]},a)})]})})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8 cursor-pointer",onClick:A,children:"SAVE"})})})]})};export{J as default};
