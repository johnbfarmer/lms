import{j as e,r as l,P as D}from"./app-yNq6nTNj.js";import{A as P}from"./AuthenticatedLayout-BpQm0nL0.js";import{G as O,T as R}from"./TopMenu-BHUelPmt.js";import{I as _}from"./InputLabel-C6vqJmkq.js";import{P as z}from"./PrimaryButton-CfycyisC.js";import"./ApplicationLogo-aOLew6p-.js";import"./transition-BqxlLFlr.js";function C(n){let i=n.data.map((o,h)=>e.jsx("div",{className:"cursor-pointer",onDoubleClick:()=>n.xxx(o.id),children:o.name},h));return e.jsxs("div",{className:"min-w-[40%] border border-black rounded mx-2 shadow",children:[e.jsx("div",{className:"border-b border-black bg-slate-100",children:n.title}),e.jsx("div",{className:"max-h-[300px] overflow-y-scroll",children:i})]})}function B(n){return O({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(n)}const W=({auth:n,course:i,group:o,allStudents:h})=>{const[d,j]=l.useState(""),[T,H]=l.useState(h),[u,f]=l.useState([]),[c,b]=l.useState([]),[I,v]=l.useState([]),[g,w]=l.useState([]),{data:p,setData:G,post:y}=D({name:o?o.name:"",id:o?o.id:null,course_id:o?o.course_id:i.id,students:u}),M=t=>{y(route("group.save"),{}),t.preventDefault()},k=t=>{let s={...p};s.name=t.target.value,G(s)},F="Grupo";l.useEffect(()=>{let t=[],s=[];h.forEach(r=>{r.is_member>0?t.push(r):s.push(r)}),f(t),b(s),v(t),w(s)},[]),l.useEffect(()=>{let t=d.length?[...u].filter(a=>a.name.toLowerCase().indexOf(d.toLowerCase())>=0):[...u],s=d.length?[...c].filter(a=>a.name.toLowerCase().indexOf(d.toLowerCase())>=0):[...c];v(t),w(s);let r={...p};r.students=t,G(r)},[d,u,c]);const L=[{name:"Cursos",link:"/courses/all"},{name:i.name,link:`/course/${i.id}`}];let S=e.jsx(R,{auth:n,title:F,courseId:i.id,show:["home","add-group"],breadcrumbs:L});const E=t=>{let s=[...c],r=[...u],a=r.filter(x=>x.id===t);s.push(a[0]),b(s);let m=N(a[0],r);f(m)},A=t=>{let s=[...u],r=[...c],a=r.filter(x=>x.id===t);s.push(a[0]),f(s);let m=N(a[0],r);b(m)},N=(t,s)=>{let r=[...s],a=-1;return s.some((m,x)=>m.id===t.id?(a=x,!0):!1),r.splice(a,1),r};return console.log(p),e.jsx(P,{auth:n,user:n.user,header:!1,topMenu:S,children:e.jsxs("div",{className:"text-center w-full",children:[e.jsxs("div",{className:"text-center max-w-7xl bg-white rounded-md my-2 mx-auto shadow",children:[e.jsxs("div",{children:[e.jsx(_,{value:"Nombre del Grupo:"}),e.jsx("input",{type:"text",value:p.name,onChange:k})]}),e.jsx("div",{children:e.jsx(z,{onClick:M,className:"my-2",children:"GUARDAR"})})]}),e.jsxs("div",{className:"text-center max-w-7xl bg-white rounded-md my-2 mx-auto shadow",children:[e.jsx("div",{children:"Miembros"}),e.jsxs("div",{className:"mx-auto w-full pt-5 flex flex-row justify-center",children:[e.jsx(C,{data:I,title:"Miembros",xxx:E}),e.jsxs("div",{className:"flex flex-row",children:[e.jsx("input",{className:"h-6",value:d,onChange:t=>{console.log(t.target.value),j(t.target.value)},placeholder:"Filtrar Nombres..."}),e.jsx(B,{onClick:()=>j("")})]}),e.jsx(C,{data:g,title:"No Miembros",xxx:A})]})]})]})})};export{W as default};
