import{r as v,P as S,j as s,B as T}from"./app-yNq6nTNj.js";import{A as $}from"./AuthenticatedLayout-BpQm0nL0.js";import{T as B,F as N,a as I,b}from"./TopMenu-BHUelPmt.js";import{C as g}from"./Checkbox-BypG9dTj.js";import"./ApplicationLogo-aOLew6p-.js";import"./transition-BqxlLFlr.js";const G=({auth:m,origLessons:x,origChapter:h,course:p})=>{const[r,u]=v.useState(h),[i,d]=v.useState(x),{data:l,setData:o,post:C}=S({chapter:h,lessons:x,deletedLessons:[]}),j=`Edita Capítulo ${r.name}`,f=()=>{let a=e.target.value,t={...r};t.name=a,u(t),l.chapter=t,o(l)},w=()=>{let a={...r};a.active=!a.active,u(a),l.chapter=a,o(l)},y=()=>{},L=(a,t)=>{let c=a.target.value,n=[...i];n[t].name=c,n[t].changed=!0,d(n),l.lessons=n,o(l)},P=(a,t)=>{let c=[...i];c[t].active=!c[t].active,c[t].changed=!0,d(c),l.lessons=c,o(l)},E=(a,t)=>{let c=[...i],n=c.splice(t,1);d(c),l.lessons=c,l.deletedLessons.push(n[0].id),o(l)},k=()=>{let a=[...i];a.push({lesson_set_id:r.id,sequence_id:(a.length+1)*10,name:"",active:0}),d(a),l.lessons=a,o(l)},A=()=>{C(route("chapter.save"),{data:l})},F=[{name:"Cursos",link:"/courses/all"},{name:p.name,link:`/course/${p.id}`}];let _=s.jsx(B,{auth:m,title:j,courseId:r.course_id,chapterId:r.id,show:["home","course","chapter"],breadcrumbs:F});return s.jsxs($,{auth:m,user:m.user,header:!1,topMenu:_,children:[s.jsx(T,{title:j}),s.jsx("div",{className:"py-2",children:s.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"",children:" Nombre del Capítulo:"}),s.jsxs("div",{className:"flex items-center mx-2",children:[s.jsx(g,{checked:r.active,onChange:w,className:"border border-black border-1"}),s.jsx("div",{className:"text-sm ml-1 mr-2",children:"Publicar"}),s.jsx(N,{className:"text-base ml-2 cursor-pointer",onClick:y})]})]}),s.jsx("div",{children:s.jsx("input",{type:"text",onChange:f,value:r.name,className:"w-full"})})]})})}),s.jsx("div",{className:"py-2",children:s.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[s.jsxs("div",{className:"flex items-center",children:[" Lecciones: ",s.jsx(I,{className:"text-base ml-2 cursor-pointer",onClick:k})]}),i.map((a,t)=>{let c=a.name;return s.jsxs("div",{className:"flex",children:[s.jsx("input",{type:"text",onChange:n=>L(n,t),value:c,className:"w-full"},t),s.jsx(g,{checked:a.active,onChange:n=>P(n,t),className:"border border-black border-1"}),s.jsx("div",{className:"text-sm ml-1 mr-2",children:"P"}),a.id&&s.jsx("a",{href:`/lesson/${a.id}/edit`,children:s.jsx(b,{className:"text-base ml-2"})}),a.id==null&&s.jsx(b,{className:"text-base ml-2 text-slate-400"}),s.jsx(N,{className:"text-base ml-2 cursor-pointer",onClick:n=>E(n,t)})]},t)})]})})}),s.jsx("div",{className:"py-2",children:s.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:s.jsx("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8 cursor-pointer",onClick:A,children:"SAVE"})})})]})};export{G as default};
