import{j as e,r as j}from"./app-DMNfrNhn.js";import{a as P}from"./index-ChdDc4Yc.js";import{a as S}from"./index-Bpl7TPNI.js";import{G as k,g as F,h as L,i as R,j as O}from"./index-D-pQ_u0A.js";function D(t){return Object.keys(t.col).indexOf("classFormatter")>=0?t.col.classFormatter(t.data):Object.keys(t.col).indexOf("class")>=0?t.col.class:null}function T(t){return Object.keys(t.col).indexOf("displayText")>=0?t.col.displayText:Object.keys(t.col).indexOf("displayFormatter")>=0?t.col.displayFormatter(t.data):t.data[t.col.field]}function $(t){return e.jsx(e.Fragment,{children:e.jsx("span",{className:D(t),children:T(t)})})}function z(t){return k({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"11 17 6 12 11 7"},child:[]},{tag:"polyline",attr:{points:"18 17 13 12 18 7"},child:[]}]})(t)}function B(t){return k({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"13 17 18 12 13 7"},child:[]},{tag:"polyline",attr:{points:"6 17 11 12 6 7"},child:[]}]})(t)}function E({recordsPerPage:t,onUpdate:u}){function c(o){const s=parseInt(o.target.value);u(s)}const d=[5,10,25,50,100].map((o,s)=>e.jsx("option",{value:o,children:o},s));return e.jsxs("div",{className:"flex flex-row justify-center pt-2 pr-4 sm:text-xs",children:[e.jsx("div",{className:"text-sm mr-1",children:"Registros por Página:"}),e.jsx("div",{children:e.jsx("select",{className:"text-sm",value:t,onChange:c,children:d})})]})}function G({recordsPerPage:t,totalRecords:u,page:c,changePage:d,updateRecordsPerPage:o}){const[s,h]=j.useState(c),a=Math.ceil(u/t);j.useEffect(()=>{h(c)},[c]);const f=n=>{n<1||n>a||(d(n),h(n))},g=n=>{o(n),f(1)},m=s>1?s-1:s;let x=[m];m<=a-1&&x.push(m+1),m<=a-2&&x.push(m+2),s>a-1&&(x=[s],s-1>0&&x.push(s-1),s-2>0&&x.push(s-2),x.sort());const b=x.map(n=>e.jsx("div",{onClick:()=>f(n),className:`px-2 py-1 h-fit rounded ${s===n?"text-slate-400 border border-slate-200 ":"text-slate-800  cursor-pointer"} mx-1`,children:n},n)),p=s===a,N=s===1,v=p?"cursor-text":"cursor-pointer",C=N?"cursor-text":"cursor-pointer";return e.jsx("div",{children:e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx(E,{recordsPerPage:t,onUpdate:g}),e.jsxs("div",{className:"flex flex-row",children:[e.jsx("div",{onClick:()=>f(1),disabled:s===1,className:`px-2 py-1 h-fit text-slate-800 rounded border border-slate-200  ${C} disabled:text-slate-400 mr-1`,children:e.jsx(z,{className:s===1?"text-slate-400":"text-slate-800"})}),e.jsx("div",{onClick:()=>f(s-1),disabled:s===1,className:`px-2 py-1 h-fit text-slate-800 rounded border border-slate-200  ${C} disabled:text-slate-400 mx-1`,children:e.jsx(F,{className:s===1?"text-slate-400":"text-slate-800"})}),b,e.jsx("div",{onClick:()=>f(s+1),disabled:s===a,className:`px-2 py-1 h-fit text-slate-800 rounded border border-slate-200  ${v} disabled:text-slate-400 mx-1`,children:e.jsx(L,{className:s===a?"text-slate-400":"text-slate-800"})}),e.jsx("div",{onClick:()=>f(a),disabled:s===a,className:`px-2 py-1 h-fit text-slate-800 rounded border border-slate-200  ${v} disabled:text-slate-400 ml-1`,children:e.jsx(B,{className:s===a?"text-slate-400":"text-slate-800"})})]}),e.jsxs("div",{className:"pt-2 sm:text-xs pl-4",children:["Página ",s," de ",a]})]})})}function I({field:t,sort:u,dir:c,sortable:d}){if(!d)return"";const o=u===t,s=o&&c===-1,h=o?"text-black":"text-slate-400";return s?e.jsx("div",{className:"flex flex-col ",children:e.jsx(R,{className:h,size:"16"})}):e.jsx("div",{className:"flex flex-col ",children:e.jsx(O,{className:h,size:"16"})})}function q(t){const[u,c]=j.useState(1),[d,o]=j.useState(""),[s,h]=j.useState(10),[a,f]=j.useState(t.initialSort),[g,m]=j.useState(t.initialSortDir||1),x=()=>{let r=t.data;if(d){const l=d.toLowerCase();r=r.filter(i=>Object.keys(i).some(y=>String(i[y]).toLowerCase().indexOf(l)>-1))}return a&&(r=r.slice().sort((l,i)=>(l=l[a],i=i[a],(l===i?0:l>i?1:-1)*g))),r},b=r=>{const l=(u-1)*s,i=l+s;return r.slice(l,i)},p=x(),N=b(p);function v(r){m(r===a?-1*g:1),f(r),c(1)}const C=t.columns.map((r,l)=>{const i=r.css?r.css:"w-[10%]";return e.jsx("th",{className:i,children:e.jsxs("div",{className:"flex flex-row cursor-pointer",onClick:()=>v(r.field),children:[r.title,e.jsx(I,{field:r.field,sort:a,dir:g,sortable:r.sortable})]})},l)}),n=N.map((r,l)=>{const i=t.columns.map((y,w)=>e.jsx("td",{className:"font-medium",children:e.jsx($,{col:y,data:r})},w));return e.jsx("tr",{className:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800",children:i},l)});return e.jsxs("div",{className:"p-2",children:[e.jsxs("div",{className:"flex flex-row justify-end",children:[e.jsxs("div",{className:"relative w-full max-w-sm items-center",children:[e.jsx("input",{type:"text",placeholder:"Buscar...",className:"pl-10 h-[36px] w-full",value:d,onChange:r=>{o(r.target.value),c(1)}}),e.jsx("span",{className:"absolute start-0 inset-y-0 flex items-center justify-center px-2",children:e.jsx(P,{className:"size-6 text-muted-foreground"})})]}),e.jsx("div",{className:"pt-1 cursor-pointer",onClick:()=>{o("")},children:e.jsx(S,{className:"size-6 text-muted-foreground"})})]}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsx("tr",{children:C})}),e.jsx("tbody",{children:n})]}),e.jsx(G,{totalRecords:p.length,recordsPerPage:s,page:u,changePage:c,updateRecordsPerPage:h})]})}export{q as L};
