import{r as s,j as e,W as d,B as _}from"./app-CxULD0pa.js";import{A as v}from"./AuthenticatedLayout-Bddi51mN.js";import{L as H,H as L}from"./HybridDisplay-QCnADDgE.js";import"./TextInput-BiltlvQu.js";import{b as M}from"./Utilities-m0eG5Gao.js";import{T as N}from"./TopMenu-B0wdsNHX.js";import{G as k}from"./index-cNb6ByBA.js";import"./ApplicationLogo-lpWAqrUq.js";import"./transition-DVZCHUOd.js";function p(r){return k({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 6H3"},child:[]},{tag:"path",attr:{d:"M7 12H3"},child:[]},{tag:"path",attr:{d:"M7 18H3"},child:[]},{tag:"path",attr:{d:"M12 18a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L11 14"},child:[]},{tag:"path",attr:{d:"M11 10v4h4"},child:[]}]})(r)}const re=({auth:r,problems:u,lesson:a,chapter:b,course:n,answers:T,hints:C,userScores:f})=>{const[I,E]=s.useState(null),[B,P]=s.useState(-1),[R,$]=s.useState(""),[A,O]=s.useState(!1),[F,G]=s.useState(0),[W,z]=s.useState(!1),[D,Q]=s.useState(1),[q,J]=s.useState(!1),[c,j]=s.useState(!1),m=`${a.name} Ejercicios`,g=M({lesson:a,chapter:b,course:n},4);let w=e.jsx(N,{auth:r,title:m,courseId:n.id,lessonId:a.id,chapterId:a.lesson_set_id,show:["home","lesson","prob-edit","prob-add","prob-set-edit"],breadcrumbs:g}),o,x,h;const S=u.map((t,i)=>{if(o=f[t.id],x=o===null?"bg-white":o>=90?"bg-green-100":o>=50?"bg-yellow-200":"bg-red-200",h=o===null?"text-black":"text-slate-400",!t.active)return null;let l;return t.display_type==="text"&&(l=e.jsx("div",{dangerouslySetInnerHTML:{__html:t.problem_text}},i)),t.display_type==="latex"&&(l=e.jsx(H,{children:t.problem_text},i)),t.display_type==="pdf"&&(l=e.jsx("iframe",{src:`/storage/${pageAssets.pdf}.pdf`,style:{width:"900px",height:"1200px"},frameBorder:"0"},i)),t.display_type==="hybrid"&&(l=e.jsx(L,{content:t.problem_text},i)),e.jsx("div",{className:"flex flex-row justify-space",children:e.jsx("div",{className:`text-center ${x} ${h} w-full p-1 m-2 shadow text-2xl sm:rounded-lg sm:p-2 border border-slate-200`,children:e.jsx(d,{as:"button",disabled:o!==null,href:route("problem.show",t.id),children:l})})},i)}),y=()=>{confirm("Quieres resetear tus resultades?")&&(alert("Enlace armado"),j(!0))};return e.jsxs(v,{auth:r,user:r.user,header:!1,topMenu:w,children:[e.jsx(_,{title:m}),e.jsx("div",{className:"py-2",children:e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"italic text-2xl",children:["Haz clic en un problema para contestarlo:",(r.is_admin||r.is_teacher)&&e.jsx("p",{className:"not-italic text-lg text-green-600",children:e.jsx(d,{href:route("problemset.showset",a.id),children:"Go to edit mode"})}),e.jsxs("div",{className:"float-right",title:"reiniciar problemas",children:[!c&&e.jsx("div",{onClick:y,className:"text-slate-400",children:e.jsx(p,{})}),c&&e.jsx(d,{href:route("results.reset",a.id),className:"text-red-500",children:e.jsx(p,{})})]})]}),e.jsx("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:S})]})})]})};export{re as default};
