import{r as k,P as L,j as e,B as T}from"./app-yNq6nTNj.js";import{A as P}from"./AuthenticatedLayout-BpQm0nL0.js";import{T as E,F as p}from"./TopMenu-BHUelPmt.js";import{C as $}from"./Checkbox-BypG9dTj.js";import"./ApplicationLogo-aOLew6p-.js";import"./transition-BqxlLFlr.js";const M=({auth:i,origLesson:d,chapter:x,course:r})=>{const[l,c]=k.useState(d),{data:t,setData:o,post:h}=L({lesson:d,file:null}),m=`Capítulo ${l.name}`,u=s=>{let a=s.target.value,n={...l};n.name=a,c(n),t.lesson=n,o(t)},j=()=>{let s={...l};s.active=!s.active,c(s),t.lesson=s,o(t)},v=()=>{},f=()=>{let s={...l};s.lesson_page="",c(s),t.lesson=s,t.file=null,o(t)},g=s=>{let a={...l};a.lesson_text=s.target.value,c(a),t.lesson=a,o(t)},N=s=>{let a={...l};a.lesson_page=s.target.files[0].name,c(a),t.lesson=a,t.file=s.target.files[0],o(t)},y=s=>{let a=s,n={...l};n.lesson_type=a,c(n),t.lesson=n,o(t)};let b=["text","pdf","hybrid","latex"].map(s=>{let a=s===l.lesson_type?"font-bold":"text-slate-500";return e.jsx("div",{className:`cursor-pointer text-sm mx-1 ${a}`,onClick:()=>y(s),children:s},s)});const w=()=>{h(route("lesson.save"))},_=[{name:"Cursos",link:"/courses/all"},{name:r.name,link:`/course/${r.id}`},{name:x.name,link:`/course/${x.id}`}];let C=e.jsx(E,{auth:i,title:m,courseId:r.id,lessonId:l.id,chapterId:l.lesson_set_id,show:["home","lesson","chapter"],breadcrumbs:_});return e.jsxs(P,{auth:i,user:i.user,header:!1,topMenu:C,children:[e.jsx(T,{title:m}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"",children:" Nombre de Lección:"}),e.jsxs("div",{className:"flex items-center mx-2",children:[e.jsx($,{checked:l.active,onChange:j,className:"border border-black border-1"}),e.jsx("div",{className:"text-sm ml-1 mr-2",children:"Publicar"}),e.jsx(p,{className:"text-base ml-2 cursor-pointer",onClick:v})]})]}),e.jsx("div",{children:e.jsx("input",{type:"text",onChange:u,value:l.name,className:"w-full"})})]})})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-left",children:" Contenido:"}),e.jsx("div",{className:"flex items-center mx-2",children:b})]}),e.jsxs("div",{className:"",children:[l.lesson_type!=="pdf"&&e.jsx("textarea",{rows:"15",onChange:g,className:"w-full",value:l.lesson_text}),l.lesson_type==="pdf"&&l.lesson_page&&e.jsxs("div",{className:"flex flex-row justify-center",children:[e.jsx("div",{children:l.lesson_page}),e.jsx(p,{className:"text-base ml-2 cursor-pointer",onClick:f})]}),l.lesson_type==="pdf"&&!l.lesson_page&&e.jsx("div",{className:"flex flex-row justify-center",children:e.jsx("div",{children:e.jsx("input",{type:"file",className:"w-full",placeholder:"pdf",onChange:N})})})]})]})})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:"text-center bg-white p-1 shadow text-2xl sm:rounded-lg sm:p-8 cursor-pointer",onClick:w,children:"SAVE"})})})]})};export{M as default};
